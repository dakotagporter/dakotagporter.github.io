---
layout: post
title: Swami Says it's a Good Buy!
subtitle: The Story of a Regressor by Dakota Porter
cover-img: /assets/img/supercar-wallpapers-koenigsegg-4.jpg
thumbnail-img: /assets/img/wizarding-world-divination-crystal-ball-table-lamp-c.jpg
share-img: 
tags: [cars, sales, regression, prediction]
---

Let's be honest here. Can any of us say the last time we bought a car was fun? The satisfaction of driving away in your new vehicle was worth much more than the money you paid for it. As a result, I'm gonna try to cut out the middle man and give everyone a shot at a know-before-you-go opportunity. As long as you provide a few details on a car in question, I can return an accurate price that can save you plenty of time and resources. 

![Sales](/assets/img/sales.jpg){: .mx-auto.d-block :}

When I bought the car I have right now, I wish I had some idea of the price range I'd be looking at given the specs of what I was wanting to buy. I searched through multiple dealerships and dealt with plenty of pushy salesmen. Once I landed in the lot of the car I purchased, I didn't know I'd even be getting a car that day. I though it would be another dead end. They showed me a car they had that was not yet in the lot. They didn't have a price for it yet and it took me about 5 hours before I was able to drive away. The car they presented me with was exactly what I wanted, but I had no idea what the price would have been and I clearly paid the price (literally). Mentally exhausted after that debacle, I felt driven to make sure that the next time I look for a new car, I will be more prepared than ever.

I searched through droves of datasets looking for something that could help me with this task. I finally came across a [dataset](https://www.kaggle.com/CooperUnion/cardataset) that was the perfect candidate. It displayed plenty of observations containing key features of a car. More importantly, it provided a MSRP for each and every car in the dataset. All of this information transitioned me right to my question: **how accurate can a Manufacturer Suggested Retail Price be predicted given a few specs of a desired car?**

## Driven by Data

Exploring a dataset can be a tedious process, but I was determined to make this a useful and accurate model. I set a target variable quite easily knowing price was the only quanitity I wanted to know. I explored the distribution of my data by these prices. To my surprise, this dataset contained prices ranging from $2,000 to $2,000,000; cars ranging from Toyota Camry's to Bugatti Veyron's. I knew right then that reduction of outliers in this data was a must. In a real world practical application, I knew the price range for this data had to be confined, therefore, I reduced the data to cars priced less than $75,000. Many more data cleaning techniques later, I brought my dataset to a modest price range and adjusted other variables to allow for my models to make predictions with ease. I will continue to break down these techniques throughout my explanation of the workflow.

![Data Head](/assets/img/df_head.PNG)

Finding the most revered style of beer seemed like the logical place to start. As a result of filtering through all of the data, the classic IPA brought a shout out. The graph shows the top 10 beer styles that had the highest review count from this dataset. Out of these elite chart-busters,  it's clear that IPA's claim top trumps; the American IPA **and** the American Double IPA accounting for a whopping 13.1% of all reviews from this dataset. Now like I said, that news is probably not new to any of us but is begging for further evaluation. India Pale Ale's are definitely not my cup of beer but, according to my conclusions thus far, I may be missing out.

**A TASTY SURPRISE**

To start off testing my hypotheses, I wanted to see if there was some sort of correlation between each review's statistics (using a two-sample t-test) on these piney pints. The review process for Beer Advocates allows for a half or full star rating from 1 to 5 stars for the chosen beer. I conducted this test to see if each person's overall score was usually the same as how they rated the beer's taste. By analyzing reviews on only American IPA's, I could try to determine if the taste scores were different in respect to the overall rating of the beer itself. This was the first chance to earn my trust.

![Brewery](/assets/img/brewery.jpeg)

Many of the breweries from the dataset had multiple reviews of the same beer. I chose only the breweries with over 1,000 reviews on their American IPA to make sure there would be enough observations to retrieve a solid average. I assumed that, in general, the average overall score for each beer would be about the same as the average score given for it's taste. However, compared to earlier, my results were shocking this time. I found that **no** statistically significant correlation existed between the two categories. I guess these people might be trustworthy after all. If they can agree that the taste is great but overall feel like the rating is low, there may at least be a chance that I can add a new brew to my repertoire.

**REVIEWING UNDER THE INFLUENCE?**

Taste ratings have been clearly influential in deciding whether or not to trust inebriated and opinionated individuals. However, alcohol content is another heavily debated aspect of beer culture. For this second test (now a one-sample t-test), does calculation live up to expectation? Each beer in this dataset contains a respective abv percentage (alcohol by volume, if you don't already know). If we look at [Live Science](https://www.livescience.com/32735-how-much-alcohol-is-in-my-drink.html#:~:text=On%20average,%20the%20ABV%20for,how%20each%20beverage%20is%20made.), we are told that an average 12oz beer has an abv of 4.5%.

![ABV graph](/assets/img/abv.png)             ![ABV zoom](/assets/img/abv_zoom.png) 

I took a list of 104 different styles of beer from the data to calculate an average abv content across the full range of recipes. The graph above shows the distribution of the alcohol content for each kind of beer. It's clear to see that most of the beers have an abv percentage of around 5%. This would closely line up with the original hypothesis. However, when we take into consideration all the beers with an abv higher than 5%, our mean (or average) abv is pulled further to the right. In calculation, the true mean is found to be between 6.04% and 6.06%.

The second figure is a portion of the graph above that has been magnified to see the range (the space between the red lines) where most of the average abv contents will fall. After a given estimate of 4.5%, it seems like our reviewers generally focus on higher percentage beers to be the victims of their scrutiny. Although it may seem like 5% beers are more common, most people seem to have more to 'buzz' about with beers of an elevated abv.

**CHECK PLEASE**

In conclusion, let's just remind ourselves that when a beer is put in your hand, just drink it. However, the next time that one of these cool, crisp beverages slides down your throat, maybe you can have a little more insight as to how the trends of the beer world hold up. IPA's seem to top the charts and alcohol-inspired analyses may not get you what you want. So can you really trust what other people say? Or do you just have to start a tab and find out on your own?

Check out the code [here](https://github.com/dakotagporter/Portfolio/blob/main/Beer_Portfolio.ipynb).

